(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{4265:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=()=>{importScripts("https://cdnjs.cloudflare.com/ajax/libs/lamejs/1.2.0/lame.min.js");let encoder,recorded=new Int8Array;function concat(a,b){if(0===b.length)return a;let c=new Int8Array(a.length+b.length);return c.set(a),c.set(b,a.length),c}onmessage=e=>{"init"===e.data[0]?function init(sampleRate){encoder=new lamejs.Mp3Encoder(1,sampleRate||44100,128)}(e.data[1]):"encode"===e.data[0]?function encode(buffer){for(let i=0;i<buffer.length;i++)buffer[i]=32767.5*buffer[i];let buf=encoder.encodeBuffer(buffer);recorded=concat(recorded,buf)}(e.data[1]):function dump(){let buf=encoder.flush();recorded=concat(recorded,buf);let buffer=recorded.buffer;recorded=new Int8Array,postMessage(buffer,[buffer])}(e.data[1])}}}}]);