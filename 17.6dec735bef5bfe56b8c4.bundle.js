/*! For license information please see 17.6dec735bef5bfe56b8c4.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{4058:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Draggable",(function(){return main_ExternalDraggable})),__webpack_require__.d(__webpack_exports__,"FeaturefulElementDragging",(function(){return main_FeaturefulElementDragging})),__webpack_require__.d(__webpack_exports__,"PointerDragging",(function(){return main_PointerDragging})),__webpack_require__.d(__webpack_exports__,"ThirdPartyDraggable",(function(){return ThirdPartyDraggable}));var main=__webpack_require__(4187),extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)};function __extends(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.create;Object.create;main.Kb.touchMouseIgnoreWait=500;var ignoreMouseDepth=0,listenerCnt=0,isWindowTouchMoveCancelled=!1,main_PointerDragging=function(){function PointerDragging(containerEl){var _this=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(ev){if(!_this.shouldIgnoreMouse()&&function isPrimaryMouseButton(ev){return 0===ev.button&&!ev.ctrlKey}(ev)&&_this.tryStart(ev)){var pev=_this.createEventFromMouse(ev,!0);_this.emitter.trigger("pointerdown",pev),_this.initScrollWatch(pev),_this.shouldIgnoreMove||document.addEventListener("mousemove",_this.handleMouseMove),document.addEventListener("mouseup",_this.handleMouseUp)}},this.handleMouseMove=function(ev){var pev=_this.createEventFromMouse(ev);_this.recordCoords(pev),_this.emitter.trigger("pointermove",pev)},this.handleMouseUp=function(ev){document.removeEventListener("mousemove",_this.handleMouseMove),document.removeEventListener("mouseup",_this.handleMouseUp),_this.emitter.trigger("pointerup",_this.createEventFromMouse(ev)),_this.cleanup()},this.handleTouchStart=function(ev){if(_this.tryStart(ev)){_this.isTouchDragging=!0;var pev=_this.createEventFromTouch(ev,!0);_this.emitter.trigger("pointerdown",pev),_this.initScrollWatch(pev);var targetEl=ev.target;_this.shouldIgnoreMove||targetEl.addEventListener("touchmove",_this.handleTouchMove),targetEl.addEventListener("touchend",_this.handleTouchEnd),targetEl.addEventListener("touchcancel",_this.handleTouchEnd),window.addEventListener("scroll",_this.handleTouchScroll,!0)}},this.handleTouchMove=function(ev){var pev=_this.createEventFromTouch(ev);_this.recordCoords(pev),_this.emitter.trigger("pointermove",pev)},this.handleTouchEnd=function(ev){if(_this.isDragging){var targetEl=ev.target;targetEl.removeEventListener("touchmove",_this.handleTouchMove),targetEl.removeEventListener("touchend",_this.handleTouchEnd),targetEl.removeEventListener("touchcancel",_this.handleTouchEnd),window.removeEventListener("scroll",_this.handleTouchScroll,!0),_this.emitter.trigger("pointerup",_this.createEventFromTouch(ev)),_this.cleanup(),_this.isTouchDragging=!1,function startIgnoringMouse(){ignoreMouseDepth+=1,setTimeout((function(){ignoreMouseDepth-=1}),main.Kb.touchMouseIgnoreWait)}()}},this.handleTouchScroll=function(){_this.wasTouchScroll=!0},this.handleScroll=function(ev){if(!_this.shouldIgnoreMove){var pageX=window.pageXOffset-_this.prevScrollX+_this.prevPageX,pageY=window.pageYOffset-_this.prevScrollY+_this.prevPageY;_this.emitter.trigger("pointermove",{origEvent:ev,isTouch:_this.isTouchDragging,subjectEl:_this.subjectEl,pageX:pageX,pageY:pageY,deltaX:pageX-_this.origPageX,deltaY:pageY-_this.origPageY})}},this.containerEl=containerEl,this.emitter=new main.x,containerEl.addEventListener("mousedown",this.handleMouseDown),containerEl.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function listenerCreated(){1===(listenerCnt+=1)&&window.addEventListener("touchmove",onWindowTouchMove,{passive:!1})}()}return PointerDragging.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function listenerDestroyed(){(listenerCnt-=1)||window.removeEventListener("touchmove",onWindowTouchMove,{passive:!1})}()},PointerDragging.prototype.tryStart=function(ev){var subjectEl=this.querySubjectEl(ev),downEl=ev.target;return!(!subjectEl||this.handleSelector&&!Object(main.dc)(downEl,this.handleSelector))&&(this.subjectEl=subjectEl,this.isDragging=!0,this.wasTouchScroll=!1,!0)},PointerDragging.prototype.cleanup=function(){isWindowTouchMoveCancelled=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},PointerDragging.prototype.querySubjectEl=function(ev){return this.selector?Object(main.dc)(ev.target,this.selector):this.containerEl},PointerDragging.prototype.shouldIgnoreMouse=function(){return ignoreMouseDepth||this.isTouchDragging},PointerDragging.prototype.cancelTouchScroll=function(){this.isDragging&&(isWindowTouchMoveCancelled=!0)},PointerDragging.prototype.initScrollWatch=function(ev){this.shouldWatchScroll&&(this.recordCoords(ev),window.addEventListener("scroll",this.handleScroll,!0))},PointerDragging.prototype.recordCoords=function(ev){this.shouldWatchScroll&&(this.prevPageX=ev.pageX,this.prevPageY=ev.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},PointerDragging.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},PointerDragging.prototype.createEventFromMouse=function(ev,isFirst){var deltaX=0,deltaY=0;return isFirst?(this.origPageX=ev.pageX,this.origPageY=ev.pageY):(deltaX=ev.pageX-this.origPageX,deltaY=ev.pageY-this.origPageY),{origEvent:ev,isTouch:!1,subjectEl:this.subjectEl,pageX:ev.pageX,pageY:ev.pageY,deltaX:deltaX,deltaY:deltaY}},PointerDragging.prototype.createEventFromTouch=function(ev,isFirst){var pageX,pageY,touches=ev.touches,deltaX=0,deltaY=0;return touches&&touches.length?(pageX=touches[0].pageX,pageY=touches[0].pageY):(pageX=ev.pageX,pageY=ev.pageY),isFirst?(this.origPageX=pageX,this.origPageY=pageY):(deltaX=pageX-this.origPageX,deltaY=pageY-this.origPageY),{origEvent:ev,isTouch:!0,subjectEl:this.subjectEl,pageX:pageX,pageY:pageY,deltaX:deltaX,deltaY:deltaY}},PointerDragging}();function onWindowTouchMove(ev){isWindowTouchMoveCancelled&&ev.preventDefault()}var main_ElementMirror=function(){function ElementMirror(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return ElementMirror.prototype.start=function(sourceEl,pageX,pageY){this.sourceEl=sourceEl,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=pageX-window.pageXOffset,this.origScreenY=pageY-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},ElementMirror.prototype.handleMove=function(pageX,pageY){this.deltaX=pageX-window.pageXOffset-this.origScreenX,this.deltaY=pageY-window.pageYOffset-this.origScreenY,this.updateElPosition()},ElementMirror.prototype.setIsVisible=function(bool){bool?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=bool,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=bool)},ElementMirror.prototype.stop=function(needsRevertAnimation,callback){var _this=this,done=function(){_this.cleanup(),callback()};needsRevertAnimation&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(done,this.revertDuration):setTimeout(done,0)},ElementMirror.prototype.doRevertAnimation=function(callback,revertDuration){var mirrorEl=this.mirrorEl,finalSourceElRect=this.sourceEl.getBoundingClientRect();mirrorEl.style.transition="top "+revertDuration+"ms,left "+revertDuration+"ms",Object(main.gb)(mirrorEl,{left:finalSourceElRect.left,top:finalSourceElRect.top}),Object(main.Yd)(mirrorEl,(function(){mirrorEl.style.transition="",callback()}))},ElementMirror.prototype.cleanup=function(){this.mirrorEl&&(Object(main.Ed)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},ElementMirror.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&Object(main.gb)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},ElementMirror.prototype.getMirrorEl=function(){var sourceElRect=this.sourceElRect,mirrorEl=this.mirrorEl;return mirrorEl||((mirrorEl=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),mirrorEl.classList.add("fc-event-dragging"),Object(main.gb)(mirrorEl,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:sourceElRect.right-sourceElRect.left,height:sourceElRect.bottom-sourceElRect.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(mirrorEl)),mirrorEl},ElementMirror}(),main_ScrollGeomCache=function(_super){function ScrollGeomCache(scrollController,doesListening){var _this=_super.call(this)||this;return _this.handleScroll=function(){_this.scrollTop=_this.scrollController.getScrollTop(),_this.scrollLeft=_this.scrollController.getScrollLeft(),_this.handleScrollChange()},_this.scrollController=scrollController,_this.doesListening=doesListening,_this.scrollTop=_this.origScrollTop=scrollController.getScrollTop(),_this.scrollLeft=_this.origScrollLeft=scrollController.getScrollLeft(),_this.scrollWidth=scrollController.getScrollWidth(),_this.scrollHeight=scrollController.getScrollHeight(),_this.clientWidth=scrollController.getClientWidth(),_this.clientHeight=scrollController.getClientHeight(),_this.clientRect=_this.computeClientRect(),_this.doesListening&&_this.getEventTarget().addEventListener("scroll",_this.handleScroll),_this}return __extends(ScrollGeomCache,_super),ScrollGeomCache.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},ScrollGeomCache.prototype.getScrollTop=function(){return this.scrollTop},ScrollGeomCache.prototype.getScrollLeft=function(){return this.scrollLeft},ScrollGeomCache.prototype.setScrollTop=function(top){this.scrollController.setScrollTop(top),this.doesListening||(this.scrollTop=Math.max(Math.min(top,this.getMaxScrollTop()),0),this.handleScrollChange())},ScrollGeomCache.prototype.setScrollLeft=function(top){this.scrollController.setScrollLeft(top),this.doesListening||(this.scrollLeft=Math.max(Math.min(top,this.getMaxScrollLeft()),0),this.handleScrollChange())},ScrollGeomCache.prototype.getClientWidth=function(){return this.clientWidth},ScrollGeomCache.prototype.getClientHeight=function(){return this.clientHeight},ScrollGeomCache.prototype.getScrollWidth=function(){return this.scrollWidth},ScrollGeomCache.prototype.getScrollHeight=function(){return this.scrollHeight},ScrollGeomCache.prototype.handleScrollChange=function(){},ScrollGeomCache}(main.K),main_ElementScrollGeomCache=function(_super){function ElementScrollGeomCache(el,doesListening){return _super.call(this,new main.w(el),doesListening)||this}return __extends(ElementScrollGeomCache,_super),ElementScrollGeomCache.prototype.getEventTarget=function(){return this.scrollController.el},ElementScrollGeomCache.prototype.computeClientRect=function(){return Object(main.Cb)(this.scrollController.el)},ElementScrollGeomCache}(main_ScrollGeomCache),main_WindowScrollGeomCache=function(_super){function WindowScrollGeomCache(doesListening){return _super.call(this,new main.Y,doesListening)||this}return __extends(WindowScrollGeomCache,_super),WindowScrollGeomCache.prototype.getEventTarget=function(){return window},WindowScrollGeomCache.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},WindowScrollGeomCache.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},WindowScrollGeomCache}(main_ScrollGeomCache),getTime="function"==typeof performance?performance.now:Date.now,AutoScroller=function(){function AutoScroller(){var _this=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(_this.isAnimating){var edge=_this.computeBestEdge(_this.pointerScreenX+window.pageXOffset,_this.pointerScreenY+window.pageYOffset);if(edge){var now=getTime();_this.handleSide(edge,(now-_this.msSinceRequest)/1e3),_this.requestAnimation(now)}else _this.isAnimating=!1}}}return AutoScroller.prototype.start=function(pageX,pageY){this.isEnabled&&(this.scrollCaches=this.buildCaches(),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(pageX,pageY))},AutoScroller.prototype.handleMove=function(pageX,pageY){if(this.isEnabled){var pointerScreenX=pageX-window.pageXOffset,pointerScreenY=pageY-window.pageYOffset,yDelta=null===this.pointerScreenY?0:pointerScreenY-this.pointerScreenY,xDelta=null===this.pointerScreenX?0:pointerScreenX-this.pointerScreenX;yDelta<0?this.everMovedUp=!0:yDelta>0&&(this.everMovedDown=!0),xDelta<0?this.everMovedLeft=!0:xDelta>0&&(this.everMovedRight=!0),this.pointerScreenX=pointerScreenX,this.pointerScreenY=pointerScreenY,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(getTime()))}},AutoScroller.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var _i=0,_a=this.scrollCaches;_i<_a.length;_i++){_a[_i].destroy()}this.scrollCaches=null}},AutoScroller.prototype.requestAnimation=function(now){this.msSinceRequest=now,requestAnimationFrame(this.animate)},AutoScroller.prototype.handleSide=function(edge,seconds){var scrollCache=edge.scrollCache,edgeThreshold=this.edgeThreshold,invDistance=edgeThreshold-edge.distance,velocity=invDistance*invDistance/(edgeThreshold*edgeThreshold)*this.maxVelocity*seconds,sign=1;switch(edge.name){case"left":sign=-1;case"right":scrollCache.setScrollLeft(scrollCache.getScrollLeft()+velocity*sign);break;case"top":sign=-1;case"bottom":scrollCache.setScrollTop(scrollCache.getScrollTop()+velocity*sign)}},AutoScroller.prototype.computeBestEdge=function(left,top){for(var edgeThreshold=this.edgeThreshold,bestSide=null,_i=0,_a=this.scrollCaches;_i<_a.length;_i++){var scrollCache=_a[_i],rect=scrollCache.clientRect,leftDist=left-rect.left,rightDist=rect.right-left,topDist=top-rect.top,bottomDist=rect.bottom-top;leftDist>=0&&rightDist>=0&&topDist>=0&&bottomDist>=0&&(topDist<=edgeThreshold&&this.everMovedUp&&scrollCache.canScrollUp()&&(!bestSide||bestSide.distance>topDist)&&(bestSide={scrollCache:scrollCache,name:"top",distance:topDist}),bottomDist<=edgeThreshold&&this.everMovedDown&&scrollCache.canScrollDown()&&(!bestSide||bestSide.distance>bottomDist)&&(bestSide={scrollCache:scrollCache,name:"bottom",distance:bottomDist}),leftDist<=edgeThreshold&&this.everMovedLeft&&scrollCache.canScrollLeft()&&(!bestSide||bestSide.distance>leftDist)&&(bestSide={scrollCache:scrollCache,name:"left",distance:leftDist}),rightDist<=edgeThreshold&&this.everMovedRight&&scrollCache.canScrollRight()&&(!bestSide||bestSide.distance>rightDist)&&(bestSide={scrollCache:scrollCache,name:"right",distance:rightDist}))}return bestSide},AutoScroller.prototype.buildCaches=function(){return this.queryScrollEls().map((function(el){return el===window?new main_WindowScrollGeomCache(!1):new main_ElementScrollGeomCache(el,!1)}))},AutoScroller.prototype.queryScrollEls=function(){for(var els=[],_i=0,_a=this.scrollQuery;_i<_a.length;_i++){var query=_a[_i];"object"==typeof query?els.push(query):els.push.apply(els,Array.prototype.slice.call(document.querySelectorAll(query)))}return els},AutoScroller}(),main_FeaturefulElementDragging=function(_super){function FeaturefulElementDragging(containerEl,selector){var _this=_super.call(this,containerEl)||this;_this.delay=null,_this.minDistance=0,_this.touchScrollAllowed=!0,_this.mirrorNeedsRevert=!1,_this.isInteracting=!1,_this.isDragging=!1,_this.isDelayEnded=!1,_this.isDistanceSurpassed=!1,_this.delayTimeoutId=null,_this.onPointerDown=function(ev){_this.isDragging||(_this.isInteracting=!0,_this.isDelayEnded=!1,_this.isDistanceSurpassed=!1,Object(main.xd)(document.body),Object(main.vd)(document.body),ev.isTouch||ev.origEvent.preventDefault(),_this.emitter.trigger("pointerdown",ev),_this.isInteracting&&!_this.pointer.shouldIgnoreMove&&(_this.mirror.setIsVisible(!1),_this.mirror.start(ev.subjectEl,ev.pageX,ev.pageY),_this.startDelay(ev),_this.minDistance||_this.handleDistanceSurpassed(ev)))},_this.onPointerMove=function(ev){if(_this.isInteracting){if(_this.emitter.trigger("pointermove",ev),!_this.isDistanceSurpassed){var minDistance=_this.minDistance,deltaX=ev.deltaX,deltaY=ev.deltaY;deltaX*deltaX+deltaY*deltaY>=minDistance*minDistance&&_this.handleDistanceSurpassed(ev)}_this.isDragging&&("scroll"!==ev.origEvent.type&&(_this.mirror.handleMove(ev.pageX,ev.pageY),_this.autoScroller.handleMove(ev.pageX,ev.pageY)),_this.emitter.trigger("dragmove",ev))}},_this.onPointerUp=function(ev){_this.isInteracting&&(_this.isInteracting=!1,Object(main.eb)(document.body),Object(main.db)(document.body),_this.emitter.trigger("pointerup",ev),_this.isDragging&&(_this.autoScroller.stop(),_this.tryStopDrag(ev)),_this.delayTimeoutId&&(clearTimeout(_this.delayTimeoutId),_this.delayTimeoutId=null))};var pointer=_this.pointer=new main_PointerDragging(containerEl);return pointer.emitter.on("pointerdown",_this.onPointerDown),pointer.emitter.on("pointermove",_this.onPointerMove),pointer.emitter.on("pointerup",_this.onPointerUp),selector&&(pointer.selector=selector),_this.mirror=new main_ElementMirror,_this.autoScroller=new AutoScroller,_this}return __extends(FeaturefulElementDragging,_super),FeaturefulElementDragging.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},FeaturefulElementDragging.prototype.startDelay=function(ev){var _this=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout((function(){_this.delayTimeoutId=null,_this.handleDelayEnd(ev)}),this.delay):this.handleDelayEnd(ev)},FeaturefulElementDragging.prototype.handleDelayEnd=function(ev){this.isDelayEnded=!0,this.tryStartDrag(ev)},FeaturefulElementDragging.prototype.handleDistanceSurpassed=function(ev){this.isDistanceSurpassed=!0,this.tryStartDrag(ev)},FeaturefulElementDragging.prototype.tryStartDrag=function(ev){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(ev.pageX,ev.pageY),this.emitter.trigger("dragstart",ev),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))},FeaturefulElementDragging.prototype.tryStopDrag=function(ev){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,ev))},FeaturefulElementDragging.prototype.stopDrag=function(ev){this.isDragging=!1,this.emitter.trigger("dragend",ev)},FeaturefulElementDragging.prototype.setIgnoreMove=function(bool){this.pointer.shouldIgnoreMove=bool},FeaturefulElementDragging.prototype.setMirrorIsVisible=function(bool){this.mirror.setIsVisible(bool)},FeaturefulElementDragging.prototype.setMirrorNeedsRevert=function(bool){this.mirrorNeedsRevert=bool},FeaturefulElementDragging.prototype.setAutoScrollEnabled=function(bool){this.autoScroller.isEnabled=bool},FeaturefulElementDragging}(main.v),main_OffsetTracker=function(){function OffsetTracker(el){this.origRect=Object(main.Db)(el),this.scrollCaches=Object(main.tc)(el).map((function(scrollEl){return new main_ElementScrollGeomCache(scrollEl,!0)}))}return OffsetTracker.prototype.destroy=function(){for(var _i=0,_a=this.scrollCaches;_i<_a.length;_i++){_a[_i].destroy()}},OffsetTracker.prototype.computeLeft=function(){for(var left=this.origRect.left,_i=0,_a=this.scrollCaches;_i<_a.length;_i++){var scrollCache=_a[_i];left+=scrollCache.origScrollLeft-scrollCache.getScrollLeft()}return left},OffsetTracker.prototype.computeTop=function(){for(var top=this.origRect.top,_i=0,_a=this.scrollCaches;_i<_a.length;_i++){var scrollCache=_a[_i];top+=scrollCache.origScrollTop-scrollCache.getScrollTop()}return top},OffsetTracker.prototype.isWithinClipping=function(pageX,pageY){for(var node,tagName,point={left:pageX,top:pageY},_i=0,_a=this.scrollCaches;_i<_a.length;_i++){var scrollCache=_a[_i];if(node=scrollCache.getEventTarget(),tagName=void 0,"HTML"!==(tagName=node.tagName)&&"BODY"!==tagName&&!Object(main.ud)(point,scrollCache.clientRect))return!1}return!0},OffsetTracker}();var main_HitDragging=function(){function HitDragging(dragging,droppableStore){var _this=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(ev){var dragging=_this.dragging;_this.initialHit=null,_this.movingHit=null,_this.finalHit=null,_this.prepareHits(),_this.processFirstCoord(ev),_this.initialHit||!_this.requireInitial?(dragging.setIgnoreMove(!1),_this.emitter.trigger("pointerdown",ev)):dragging.setIgnoreMove(!0)},this.handleDragStart=function(ev){_this.emitter.trigger("dragstart",ev),_this.handleMove(ev,!0)},this.handleDragMove=function(ev){_this.emitter.trigger("dragmove",ev),_this.handleMove(ev)},this.handlePointerUp=function(ev){_this.releaseHits(),_this.emitter.trigger("pointerup",ev)},this.handleDragEnd=function(ev){_this.movingHit&&_this.emitter.trigger("hitupdate",null,!0,ev),_this.finalHit=_this.movingHit,_this.movingHit=null,_this.emitter.trigger("dragend",ev)},this.droppableStore=droppableStore,dragging.emitter.on("pointerdown",this.handlePointerDown),dragging.emitter.on("dragstart",this.handleDragStart),dragging.emitter.on("dragmove",this.handleDragMove),dragging.emitter.on("pointerup",this.handlePointerUp),dragging.emitter.on("dragend",this.handleDragEnd),this.dragging=dragging,this.emitter=new main.x}return HitDragging.prototype.processFirstCoord=function(ev){var subjectRect,origPoint={left:ev.pageX,top:ev.pageY},adjustedPoint=origPoint,subjectEl=ev.subjectEl;subjectEl!==document&&(subjectRect=Object(main.Db)(subjectEl),adjustedPoint=Object(main.Lb)(adjustedPoint,subjectRect));var initialHit=this.initialHit=this.queryHitForOffset(adjustedPoint.left,adjustedPoint.top);if(initialHit){if(this.useSubjectCenter&&subjectRect){var slicedSubjectRect=Object(main.Vc)(subjectRect,initialHit.rect);slicedSubjectRect&&(adjustedPoint=Object(main.Ac)(slicedSubjectRect))}this.coordAdjust=Object(main.Yb)(adjustedPoint,origPoint)}else this.coordAdjust={left:0,top:0}},HitDragging.prototype.handleMove=function(ev,forceHandle){var hit=this.queryHitForOffset(ev.pageX+this.coordAdjust.left,ev.pageY+this.coordAdjust.top);!forceHandle&&isHitsEqual(this.movingHit,hit)||(this.movingHit=hit,this.emitter.trigger("hitupdate",hit,!1,ev))},HitDragging.prototype.prepareHits=function(){this.offsetTrackers=Object(main.gd)(this.droppableStore,(function(interactionSettings){return interactionSettings.component.prepareHits(),new main_OffsetTracker(interactionSettings.el)}))},HitDragging.prototype.releaseHits=function(){var offsetTrackers=this.offsetTrackers;for(var id in offsetTrackers)offsetTrackers[id].destroy();this.offsetTrackers={}},HitDragging.prototype.queryHitForOffset=function(offsetLeft,offsetTop){var droppableStore=this.droppableStore,offsetTrackers=this.offsetTrackers,bestHit=null;for(var id in droppableStore){var component=droppableStore[id].component,offsetTracker=offsetTrackers[id];if(offsetTracker&&offsetTracker.isWithinClipping(offsetLeft,offsetTop)){var originLeft=offsetTracker.computeLeft(),originTop=offsetTracker.computeTop(),positionLeft=offsetLeft-originLeft,positionTop=offsetTop-originTop,origRect=offsetTracker.origRect,width=origRect.right-origRect.left,height=origRect.bottom-origRect.top;if(positionLeft>=0&&positionLeft<width&&positionTop>=0&&positionTop<height){var hit=component.queryHit(positionLeft,positionTop,width,height),dateProfile=component.context.getCurrentData().dateProfile;hit&&Object(main.zd)(dateProfile.activeRange,hit.dateSpan.range)&&(!bestHit||hit.layer>bestHit.layer)&&(hit.rect.left+=originLeft,hit.rect.right+=originLeft,hit.rect.top+=originTop,hit.rect.bottom+=originTop,bestHit=hit)}}}return bestHit},HitDragging}();function isHitsEqual(hit0,hit1){return!hit0&&!hit1||Boolean(hit0)===Boolean(hit1)&&Object(main.Yc)(hit0.dateSpan,hit1.dateSpan)}function buildDatePointApiWithContext(dateSpan,context){for(var props={},_i=0,_a=context.pluginHooks.datePointTransforms;_i<_a.length;_i++){var transform=_a[_i];__assign(props,transform(dateSpan,context))}return __assign(props,function buildDatePointApi(span,dateEnv){return{date:dateEnv.toDate(span.range.start),dateStr:dateEnv.formatIso(span.range.start,{omitTime:span.allDay}),allDay:span.allDay}}(dateSpan,context.dateEnv)),props}var main_DateClicking=function(_super){function DateClicking(settings){var _this=_super.call(this,settings)||this;_this.handlePointerDown=function(pev){var dragging=_this.dragging,downEl=pev.origEvent.target;dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl))},_this.handleDragEnd=function(ev){var component=_this.component;if(!_this.dragging.pointer.wasTouchScroll){var _a=_this.hitDragging,initialHit=_a.initialHit,finalHit=_a.finalHit;if(initialHit&&finalHit&&isHitsEqual(initialHit,finalHit)){var context=component.context,arg=__assign(__assign({},buildDatePointApiWithContext(initialHit.dateSpan,context)),{dayEl:initialHit.dayEl,jsEvent:ev.origEvent,view:context.viewApi||context.calendarApi.view});context.emitter.trigger("dateClick",arg)}}},_this.dragging=new main_FeaturefulElementDragging(settings.el),_this.dragging.autoScroller.isEnabled=!1;var hitDragging=_this.hitDragging=new main_HitDragging(_this.dragging,Object(main.Tc)(settings));return hitDragging.emitter.on("pointerdown",_this.handlePointerDown),hitDragging.emitter.on("dragend",_this.handleDragEnd),_this}return __extends(DateClicking,_super),DateClicking.prototype.destroy=function(){this.dragging.destroy()},DateClicking}(main.C),main_DateSelecting=function(_super){function DateSelecting(settings){var _this=_super.call(this,settings)||this;_this.dragSelection=null,_this.handlePointerDown=function(ev){var _a=_this,component=_a.component,dragging=_a.dragging,canSelect=component.context.options.selectable&&component.isValidDateDownEl(ev.origEvent.target);dragging.setIgnoreMove(!canSelect),dragging.delay=ev.isTouch?function getComponentTouchDelay(component){var options=component.context.options,delay=options.selectLongPressDelay;null==delay&&(delay=options.longPressDelay);return delay}(component):null},_this.handleDragStart=function(ev){_this.component.context.calendarApi.unselect(ev)},_this.handleHitUpdate=function(hit,isFinal){var context=_this.component.context,dragSelection=null,isInvalid=!1;hit&&((dragSelection=function joinHitsIntoSelection(hit0,hit1,dateSelectionTransformers){var dateSpan0=hit0.dateSpan,dateSpan1=hit1.dateSpan,ms=[dateSpan0.range.start,dateSpan0.range.end,dateSpan1.range.start,dateSpan1.range.end];ms.sort(main.xb);for(var props={},_i=0,dateSelectionTransformers_1=dateSelectionTransformers;_i<dateSelectionTransformers_1.length;_i++){var res=(0,dateSelectionTransformers_1[_i])(hit0,hit1);if(!1===res)return null;res&&__assign(props,res)}return props.range={start:ms[0],end:ms[3]},props.allDay=dateSpan0.allDay,props}(_this.hitDragging.initialHit,hit,context.pluginHooks.dateSelectionTransformers))&&_this.component.isDateSelectionValid(dragSelection)||(isInvalid=!0,dragSelection=null)),dragSelection?context.dispatch({type:"SELECT_DATES",selection:dragSelection}):isFinal||context.dispatch({type:"UNSELECT_DATES"}),isInvalid?Object(main.cc)():Object(main.fc)(),isFinal||(_this.dragSelection=dragSelection)},_this.handlePointerUp=function(pev){_this.dragSelection&&(Object(main.Ud)(_this.dragSelection,pev,_this.component.context),_this.dragSelection=null)};var options=settings.component.context.options,dragging=_this.dragging=new main_FeaturefulElementDragging(settings.el);dragging.touchScrollAllowed=!1,dragging.minDistance=options.selectMinDistance||0,dragging.autoScroller.isEnabled=options.dragScroll;var hitDragging=_this.hitDragging=new main_HitDragging(_this.dragging,Object(main.Tc)(settings));return hitDragging.emitter.on("pointerdown",_this.handlePointerDown),hitDragging.emitter.on("dragstart",_this.handleDragStart),hitDragging.emitter.on("hitupdate",_this.handleHitUpdate),hitDragging.emitter.on("pointerup",_this.handlePointerUp),_this}return __extends(DateSelecting,_super),DateSelecting.prototype.destroy=function(){this.dragging.destroy()},DateSelecting}(main.C);var main_EventDragging=function(_super){function EventDragging(settings){var _this=_super.call(this,settings)||this;_this.subjectEl=null,_this.subjectSeg=null,_this.isDragging=!1,_this.eventRange=null,_this.relevantEvents=null,_this.receivingContext=null,_this.validMutation=null,_this.mutatedRelevantEvents=null,_this.handlePointerDown=function(ev){var origTarget=ev.origEvent.target,_a=_this,component=_a.component,dragging=_a.dragging,mirror=dragging.mirror,options=component.context.options,initialContext=component.context;_this.subjectEl=ev.subjectEl;var subjectSeg=_this.subjectSeg=Object(main.xc)(ev.subjectEl),eventInstanceId=(_this.eventRange=subjectSeg.eventRange).instance.instanceId;_this.relevantEvents=Object(main.Bc)(initialContext.getCurrentData().eventStore,eventInstanceId),dragging.minDistance=ev.isTouch?0:options.eventDragMinDistance,dragging.delay=ev.isTouch&&eventInstanceId!==component.props.eventSelection?function getComponentTouchDelay$1(component){var options=component.context.options,delay=options.eventLongPressDelay;null==delay&&(delay=options.longPressDelay);return delay}(component):null,options.fixedMirrorParent?mirror.parentNode=options.fixedMirrorParent:mirror.parentNode=Object(main.dc)(origTarget,".fc"),mirror.revertDuration=options.dragRevertDuration;var isValid=component.isValidSegDownEl(origTarget)&&!Object(main.dc)(origTarget,".fc-event-resizer");dragging.setIgnoreMove(!isValid),_this.isDragging=isValid&&ev.subjectEl.classList.contains("fc-event-draggable")},_this.handleDragStart=function(ev){var initialContext=_this.component.context,eventRange=_this.eventRange,eventInstanceId=eventRange.instance.instanceId;ev.isTouch?eventInstanceId!==_this.component.props.eventSelection&&initialContext.dispatch({type:"SELECT_EVENT",eventInstanceId:eventInstanceId}):initialContext.dispatch({type:"UNSELECT_EVENT"}),_this.isDragging&&(initialContext.calendarApi.unselect(ev),initialContext.emitter.trigger("eventDragStart",{el:_this.subjectEl,event:new main.y(initialContext,eventRange.def,eventRange.instance),jsEvent:ev.origEvent,view:initialContext.viewApi}))},_this.handleHitUpdate=function(hit,isFinal){if(_this.isDragging){var relevantEvents=_this.relevantEvents,initialHit=_this.hitDragging.initialHit,initialContext=_this.component.context,receivingContext=null,mutation=null,mutatedRelevantEvents=null,isInvalid=!1,interaction={affectedEvents:relevantEvents,mutatedEvents:Object(main.Pb)(),isEvent:!0};if(hit){var receivingComponent=hit.component,receivingOptions=(receivingContext=receivingComponent.context).options;initialContext===receivingContext||receivingOptions.editable&&receivingOptions.droppable?(mutation=function computeEventMutation(hit0,hit1,massagers){var dateSpan0=hit0.dateSpan,dateSpan1=hit1.dateSpan,date0=dateSpan0.range.start,date1=dateSpan1.range.start,standardProps={};dateSpan0.allDay!==dateSpan1.allDay&&(standardProps.allDay=dateSpan1.allDay,standardProps.hasEnd=hit1.component.context.options.allDayMaintainDuration,dateSpan1.allDay&&(date0=Object(main.Sd)(date0)));var delta=Object(main.Vb)(date0,date1,hit0.component.context.dateEnv,hit0.component===hit1.component?hit0.component.largeUnit:null);delta.milliseconds&&(standardProps.allDay=!1);for(var mutation={datesDelta:delta,standardProps:standardProps},_i=0,massagers_1=massagers;_i<massagers_1.length;_i++){(0,massagers_1[_i])(mutation,hit0,hit1)}return mutation}(initialHit,hit,receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers))&&(mutatedRelevantEvents=Object(main.fb)(relevantEvents,receivingContext.getCurrentData().eventUiBases,mutation,receivingContext),interaction.mutatedEvents=mutatedRelevantEvents,receivingComponent.isInteractionValid(interaction)||(isInvalid=!0,mutation=null,mutatedRelevantEvents=null,interaction.mutatedEvents=Object(main.Pb)())):receivingContext=null}_this.displayDrag(receivingContext,interaction),isInvalid?Object(main.cc)():Object(main.fc)(),isFinal||(initialContext===receivingContext&&isHitsEqual(initialHit,hit)&&(mutation=null),_this.dragging.setMirrorNeedsRevert(!mutation),_this.dragging.setMirrorIsVisible(!hit||!document.querySelector(".fc-event-mirror")),_this.receivingContext=receivingContext,_this.validMutation=mutation,_this.mutatedRelevantEvents=mutatedRelevantEvents)}},_this.handlePointerUp=function(){_this.isDragging||_this.cleanup()},_this.handleDragEnd=function(ev){if(_this.isDragging){var initialContext_1=_this.component.context,initialView=initialContext_1.viewApi,_a=_this,receivingContext_1=_a.receivingContext,validMutation=_a.validMutation,eventDef=_this.eventRange.def,eventInstance=_this.eventRange.instance,eventApi=new main.y(initialContext_1,eventDef,eventInstance),relevantEvents_1=_this.relevantEvents,mutatedRelevantEvents_1=_this.mutatedRelevantEvents,finalHit=_this.hitDragging.finalHit;if(_this.clearDrag(),initialContext_1.emitter.trigger("eventDragStop",{el:_this.subjectEl,event:eventApi,jsEvent:ev.origEvent,view:initialView}),validMutation){if(receivingContext_1===initialContext_1){var updatedEventApi=new main.y(initialContext_1,mutatedRelevantEvents_1.defs[eventDef.defId],eventInstance?mutatedRelevantEvents_1.instances[eventInstance.instanceId]:null);initialContext_1.dispatch({type:"MERGE_EVENTS",eventStore:mutatedRelevantEvents_1});for(var eventChangeArg={oldEvent:eventApi,event:updatedEventApi,relatedEvents:Object(main.nb)(mutatedRelevantEvents_1,initialContext_1,eventInstance),revert:function(){initialContext_1.dispatch({type:"MERGE_EVENTS",eventStore:relevantEvents_1})}},transformed={},_i=0,_b=initialContext_1.getCurrentData().pluginHooks.eventDropTransformers;_i<_b.length;_i++){var transformer=_b[_i];__assign(transformed,transformer(validMutation,initialContext_1))}initialContext_1.emitter.trigger("eventDrop",__assign(__assign(__assign({},eventChangeArg),transformed),{el:ev.subjectEl,delta:validMutation.datesDelta,jsEvent:ev.origEvent,view:initialView})),initialContext_1.emitter.trigger("eventChange",eventChangeArg)}else if(receivingContext_1){var eventRemoveArg={event:eventApi,relatedEvents:Object(main.nb)(relevantEvents_1,initialContext_1,eventInstance),revert:function(){initialContext_1.dispatch({type:"MERGE_EVENTS",eventStore:relevantEvents_1})}};initialContext_1.emitter.trigger("eventLeave",__assign(__assign({},eventRemoveArg),{draggedEl:ev.subjectEl,view:initialView})),initialContext_1.dispatch({type:"REMOVE_EVENTS",eventStore:relevantEvents_1}),initialContext_1.emitter.trigger("eventRemove",eventRemoveArg);var addedEventDef=mutatedRelevantEvents_1.defs[eventDef.defId],addedEventInstance=mutatedRelevantEvents_1.instances[eventInstance.instanceId],addedEventApi=new main.y(receivingContext_1,addedEventDef,addedEventInstance);receivingContext_1.dispatch({type:"MERGE_EVENTS",eventStore:mutatedRelevantEvents_1});var eventAddArg={event:addedEventApi,relatedEvents:Object(main.nb)(mutatedRelevantEvents_1,receivingContext_1,addedEventInstance),revert:function(){receivingContext_1.dispatch({type:"REMOVE_EVENTS",eventStore:mutatedRelevantEvents_1})}};receivingContext_1.emitter.trigger("eventAdd",eventAddArg),ev.isTouch&&receivingContext_1.dispatch({type:"SELECT_EVENT",eventInstanceId:eventInstance.instanceId}),receivingContext_1.emitter.trigger("drop",__assign(__assign({},buildDatePointApiWithContext(finalHit.dateSpan,receivingContext_1)),{draggedEl:ev.subjectEl,jsEvent:ev.origEvent,view:finalHit.component.context.viewApi})),receivingContext_1.emitter.trigger("eventReceive",__assign(__assign({},eventAddArg),{draggedEl:ev.subjectEl,view:finalHit.component.context.viewApi}))}}else initialContext_1.emitter.trigger("_noEventDrop")}_this.cleanup()};var options=_this.component.context.options,dragging=_this.dragging=new main_FeaturefulElementDragging(settings.el);dragging.pointer.selector=EventDragging.SELECTOR,dragging.touchScrollAllowed=!1,dragging.autoScroller.isEnabled=options.dragScroll;var hitDragging=_this.hitDragging=new main_HitDragging(_this.dragging,main.Sc);return hitDragging.useSubjectCenter=settings.useEventCenter,hitDragging.emitter.on("pointerdown",_this.handlePointerDown),hitDragging.emitter.on("dragstart",_this.handleDragStart),hitDragging.emitter.on("hitupdate",_this.handleHitUpdate),hitDragging.emitter.on("pointerup",_this.handlePointerUp),hitDragging.emitter.on("dragend",_this.handleDragEnd),_this}return __extends(EventDragging,_super),EventDragging.prototype.destroy=function(){this.dragging.destroy()},EventDragging.prototype.displayDrag=function(nextContext,state){var initialContext=this.component.context,prevContext=this.receivingContext;prevContext&&prevContext!==nextContext&&(prevContext===initialContext?prevContext.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:state.affectedEvents,mutatedEvents:Object(main.Pb)(),isEvent:!0}}):prevContext.dispatch({type:"UNSET_EVENT_DRAG"})),nextContext&&nextContext.dispatch({type:"SET_EVENT_DRAG",state:state})},EventDragging.prototype.clearDrag=function(){var initialCalendar=this.component.context,receivingContext=this.receivingContext;receivingContext&&receivingContext.dispatch({type:"UNSET_EVENT_DRAG"}),initialCalendar!==receivingContext&&initialCalendar.dispatch({type:"UNSET_EVENT_DRAG"})},EventDragging.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},EventDragging.SELECTOR=".fc-event-draggable, .fc-event-resizable",EventDragging}(main.C);var main_EventResizing=function(_super){function EventResizing(settings){var _this=_super.call(this,settings)||this;_this.draggingSegEl=null,_this.draggingSeg=null,_this.eventRange=null,_this.relevantEvents=null,_this.validMutation=null,_this.mutatedRelevantEvents=null,_this.handlePointerDown=function(ev){var component=_this.component,segEl=_this.querySegEl(ev),seg=Object(main.xc)(segEl),eventRange=_this.eventRange=seg.eventRange;_this.dragging.minDistance=component.context.options.eventDragMinDistance,_this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target)||ev.isTouch&&_this.component.props.eventSelection!==eventRange.instance.instanceId)},_this.handleDragStart=function(ev){var context=_this.component.context,eventRange=_this.eventRange;_this.relevantEvents=Object(main.Bc)(context.getCurrentData().eventStore,_this.eventRange.instance.instanceId);var segEl=_this.querySegEl(ev);_this.draggingSegEl=segEl,_this.draggingSeg=Object(main.xc)(segEl),context.calendarApi.unselect(),context.emitter.trigger("eventResizeStart",{el:segEl,event:new main.y(context,eventRange.def,eventRange.instance),jsEvent:ev.origEvent,view:context.viewApi})},_this.handleHitUpdate=function(hit,isFinal,ev){var context=_this.component.context,relevantEvents=_this.relevantEvents,initialHit=_this.hitDragging.initialHit,eventInstance=_this.eventRange.instance,mutation=null,mutatedRelevantEvents=null,isInvalid=!1,interaction={affectedEvents:relevantEvents,mutatedEvents:Object(main.Pb)(),isEvent:!0};hit&&(mutation=function computeMutation(hit0,hit1,isFromStart,instanceRange,transforms){for(var dateEnv=hit0.component.context.dateEnv,date0=hit0.dateSpan.range.start,date1=hit1.dateSpan.range.start,delta=Object(main.Vb)(date0,date1,dateEnv,hit0.component.largeUnit),props={},_i=0,transforms_1=transforms;_i<transforms_1.length;_i++){var res=(0,transforms_1[_i])(hit0,hit1);if(!1===res)return null;res&&__assign(props,res)}if(isFromStart){if(dateEnv.add(instanceRange.start,delta)<instanceRange.end)return props.startDelta=delta,props}else if(dateEnv.add(instanceRange.end,delta)>instanceRange.start)return props.endDelta=delta,props;return null}(initialHit,hit,ev.subjectEl.classList.contains("fc-event-resizer-start"),eventInstance.range,context.pluginHooks.eventResizeJoinTransforms)),mutation&&(mutatedRelevantEvents=Object(main.fb)(relevantEvents,context.getCurrentData().eventUiBases,mutation,context),interaction.mutatedEvents=mutatedRelevantEvents,_this.component.isInteractionValid(interaction)||(isInvalid=!0,mutation=null,mutatedRelevantEvents=null,interaction.mutatedEvents=null)),mutatedRelevantEvents?context.dispatch({type:"SET_EVENT_RESIZE",state:interaction}):context.dispatch({type:"UNSET_EVENT_RESIZE"}),isInvalid?Object(main.cc)():Object(main.fc)(),isFinal||(mutation&&isHitsEqual(initialHit,hit)&&(mutation=null),_this.validMutation=mutation,_this.mutatedRelevantEvents=mutatedRelevantEvents)},_this.handleDragEnd=function(ev){var context=_this.component.context,eventDef=_this.eventRange.def,eventInstance=_this.eventRange.instance,eventApi=new main.y(context,eventDef,eventInstance),relevantEvents=_this.relevantEvents,mutatedRelevantEvents=_this.mutatedRelevantEvents;if(context.emitter.trigger("eventResizeStop",{el:_this.draggingSegEl,event:eventApi,jsEvent:ev.origEvent,view:context.viewApi}),_this.validMutation){var updatedEventApi=new main.y(context,mutatedRelevantEvents.defs[eventDef.defId],eventInstance?mutatedRelevantEvents.instances[eventInstance.instanceId]:null);context.dispatch({type:"MERGE_EVENTS",eventStore:mutatedRelevantEvents});var eventChangeArg={oldEvent:eventApi,event:updatedEventApi,relatedEvents:Object(main.nb)(mutatedRelevantEvents,context,eventInstance),revert:function(){context.dispatch({type:"MERGE_EVENTS",eventStore:relevantEvents})}};context.emitter.trigger("eventResize",__assign(__assign({},eventChangeArg),{el:_this.draggingSegEl,startDelta:_this.validMutation.startDelta||Object(main.Nb)(0),endDelta:_this.validMutation.endDelta||Object(main.Nb)(0),jsEvent:ev.origEvent,view:context.viewApi})),context.emitter.trigger("eventChange",eventChangeArg)}else context.emitter.trigger("_noEventResize");_this.draggingSeg=null,_this.relevantEvents=null,_this.validMutation=null};var component=settings.component,dragging=_this.dragging=new main_FeaturefulElementDragging(settings.el);dragging.pointer.selector=".fc-event-resizer",dragging.touchScrollAllowed=!1,dragging.autoScroller.isEnabled=component.context.options.dragScroll;var hitDragging=_this.hitDragging=new main_HitDragging(_this.dragging,Object(main.Tc)(settings));return hitDragging.emitter.on("pointerdown",_this.handlePointerDown),hitDragging.emitter.on("dragstart",_this.handleDragStart),hitDragging.emitter.on("hitupdate",_this.handleHitUpdate),hitDragging.emitter.on("dragend",_this.handleDragEnd),_this}return __extends(EventResizing,_super),EventResizing.prototype.destroy=function(){this.dragging.destroy()},EventResizing.prototype.querySegEl=function(ev){return Object(main.dc)(ev.subjectEl,".fc-event")},EventResizing}(main.C);var main_UnselectAuto=function(){function UnselectAuto(context){var _this=this;this.context=context,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(selectInfo){selectInfo.jsEvent&&(_this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(pev){var unselectCancel=_this.context.options.unselectCancel,downEl=pev.origEvent.target;_this.matchesCancel=!!Object(main.dc)(downEl,unselectCancel),_this.matchesEvent=!!Object(main.dc)(downEl,main_EventDragging.SELECTOR)},this.onDocumentPointerUp=function(pev){var context=_this.context,documentPointer=_this.documentPointer,calendarState=context.getCurrentData();if(!documentPointer.wasTouchScroll){if(calendarState.dateSelection&&!_this.isRecentPointerDateSelect){var unselectAuto=context.options.unselectAuto;!unselectAuto||unselectAuto&&_this.matchesCancel||context.calendarApi.unselect(pev)}calendarState.eventSelection&&!_this.matchesEvent&&context.dispatch({type:"UNSELECT_EVENT"})}_this.isRecentPointerDateSelect=!1};var documentPointer=this.documentPointer=new main_PointerDragging(document);documentPointer.shouldIgnoreMove=!0,documentPointer.shouldWatchScroll=!1,documentPointer.emitter.on("pointerdown",this.onDocumentPointerDown),documentPointer.emitter.on("pointerup",this.onDocumentPointerUp),context.emitter.on("select",this.onSelect)}return UnselectAuto.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},UnselectAuto}(),OPTION_REFINERS={fixedMirrorParent:main.Rc},LISTENER_REFINERS={dateClick:main.Rc,eventDragStart:main.Rc,eventDragStop:main.Rc,eventDrop:main.Rc,eventResizeStart:main.Rc,eventResizeStop:main.Rc,eventResize:main.Rc,drop:main.Rc,eventReceive:main.Rc,eventLeave:main.Rc},main_ExternalElementDragging=function(){function ExternalElementDragging(dragging,suppliedDragMeta){var _this=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(ev){_this.dragMeta=_this.buildDragMeta(ev.subjectEl)},this.handleHitUpdate=function(hit,isFinal,ev){var dragging=_this.hitDragging.dragging,receivingContext=null,droppableEvent=null,isInvalid=!1,interaction={affectedEvents:Object(main.Pb)(),mutatedEvents:Object(main.Pb)(),isEvent:_this.dragMeta.create};hit&&(receivingContext=hit.component.context,_this.canDropElOnCalendar(ev.subjectEl,receivingContext)&&(droppableEvent=function computeEventForDateSpan(dateSpan,dragMeta,context){for(var defProps=__assign({},dragMeta.leftoverProps),_i=0,_a=context.pluginHooks.externalDefTransforms;_i<_a.length;_i++){var transform=_a[_i];__assign(defProps,transform(dateSpan,dragMeta))}var _b=Object(main.Cd)(defProps,context),refined=_b.refined,extra=_b.extra,def=Object(main.rd)(refined,extra,dragMeta.sourceId,dateSpan.allDay,context.options.forceEventDuration||Boolean(dragMeta.duration),context),start=dateSpan.range.start;dateSpan.allDay&&dragMeta.startTime&&(start=context.dateEnv.add(start,dragMeta.startTime));var end=dragMeta.duration?context.dateEnv.add(start,dragMeta.duration):Object(main.wc)(dateSpan.allDay,start,context),instance=Object(main.Qb)(def.defId,{start:start,end:end});return{def:def,instance:instance}}(hit.dateSpan,_this.dragMeta,receivingContext),interaction.mutatedEvents=Object(main.gc)(droppableEvent),(isInvalid=!Object(main.ad)(interaction,receivingContext))&&(interaction.mutatedEvents=Object(main.Pb)(),droppableEvent=null))),_this.displayDrag(receivingContext,interaction),dragging.setMirrorIsVisible(isFinal||!droppableEvent||!document.querySelector(".fc-event-mirror")),isInvalid?Object(main.cc)():Object(main.fc)(),isFinal||(dragging.setMirrorNeedsRevert(!droppableEvent),_this.receivingContext=receivingContext,_this.droppableEvent=droppableEvent)},this.handleDragEnd=function(pev){var _a=_this,receivingContext=_a.receivingContext,droppableEvent=_a.droppableEvent;if(_this.clearDrag(),receivingContext&&droppableEvent){var finalHit=_this.hitDragging.finalHit,finalView=finalHit.component.context.viewApi,dragMeta=_this.dragMeta;if(receivingContext.emitter.trigger("drop",__assign(__assign({},buildDatePointApiWithContext(finalHit.dateSpan,receivingContext)),{draggedEl:pev.subjectEl,jsEvent:pev.origEvent,view:finalView})),dragMeta.create){var addingEvents_1=Object(main.gc)(droppableEvent);receivingContext.dispatch({type:"MERGE_EVENTS",eventStore:addingEvents_1}),pev.isTouch&&receivingContext.dispatch({type:"SELECT_EVENT",eventInstanceId:droppableEvent.instance.instanceId}),receivingContext.emitter.trigger("eventReceive",{event:new main.y(receivingContext,droppableEvent.def,droppableEvent.instance),relatedEvents:[],revert:function(){receivingContext.dispatch({type:"REMOVE_EVENTS",eventStore:addingEvents_1})},draggedEl:pev.subjectEl,view:finalView})}}_this.receivingContext=null,_this.droppableEvent=null};var hitDragging=this.hitDragging=new main_HitDragging(dragging,main.Sc);hitDragging.requireInitial=!1,hitDragging.emitter.on("dragstart",this.handleDragStart),hitDragging.emitter.on("hitupdate",this.handleHitUpdate),hitDragging.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=suppliedDragMeta}return ExternalElementDragging.prototype.buildDragMeta=function(subjectEl){return"object"==typeof this.suppliedDragMeta?Object(main.qd)(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?Object(main.qd)(this.suppliedDragMeta(subjectEl)):function getDragMetaFromEl(el){var str=function getEmbeddedElData(el,name){var prefix=main.Kb.dataAttrPrefix,prefixedName=(prefix?prefix+"-":"")+name;return el.getAttribute("data-"+prefixedName)||""}(el,"event"),obj=str?JSON.parse(str):{create:!1};return Object(main.qd)(obj)}(subjectEl)},ExternalElementDragging.prototype.displayDrag=function(nextContext,state){var prevContext=this.receivingContext;prevContext&&prevContext!==nextContext&&prevContext.dispatch({type:"UNSET_EVENT_DRAG"}),nextContext&&nextContext.dispatch({type:"SET_EVENT_DRAG",state:state})},ExternalElementDragging.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},ExternalElementDragging.prototype.canDropElOnCalendar=function(el,receivingContext){var dropAccept=receivingContext.options.dropAccept;return"function"==typeof dropAccept?dropAccept.call(receivingContext.calendarApi,el):"string"!=typeof dropAccept||!dropAccept||Boolean(Object(main.ec)(el,dropAccept))},ExternalElementDragging}();main.Kb.dataAttrPrefix="";var main_ExternalDraggable=function(){function ExternalDraggable(el,settings){var _this=this;void 0===settings&&(settings={}),this.handlePointerDown=function(ev){var dragging=_this.dragging,_a=_this.settings,minDistance=_a.minDistance,longPressDelay=_a.longPressDelay;dragging.minDistance=null!=minDistance?minDistance:ev.isTouch?0:main.a.eventDragMinDistance,dragging.delay=ev.isTouch?null!=longPressDelay?longPressDelay:main.a.longPressDelay:0},this.handleDragStart=function(ev){ev.isTouch&&_this.dragging.delay&&ev.subjectEl.classList.contains("fc-event")&&_this.dragging.mirror.getMirrorEl().classList.add("fc-event-selected")},this.settings=settings;var dragging=this.dragging=new main_FeaturefulElementDragging(el);dragging.touchScrollAllowed=!1,null!=settings.itemSelector&&(dragging.pointer.selector=settings.itemSelector),null!=settings.appendTo&&(dragging.mirror.parentNode=settings.appendTo),dragging.emitter.on("pointerdown",this.handlePointerDown),dragging.emitter.on("dragstart",this.handleDragStart),new main_ExternalElementDragging(dragging,settings.eventData)}return ExternalDraggable.prototype.destroy=function(){this.dragging.destroy()},ExternalDraggable}(),main_InferredElementDragging=function(_super){function InferredElementDragging(containerEl){var _this=_super.call(this,containerEl)||this;_this.shouldIgnoreMove=!1,_this.mirrorSelector="",_this.currentMirrorEl=null,_this.handlePointerDown=function(ev){_this.emitter.trigger("pointerdown",ev),_this.shouldIgnoreMove||_this.emitter.trigger("dragstart",ev)},_this.handlePointerMove=function(ev){_this.shouldIgnoreMove||_this.emitter.trigger("dragmove",ev)},_this.handlePointerUp=function(ev){_this.emitter.trigger("pointerup",ev),_this.shouldIgnoreMove||_this.emitter.trigger("dragend",ev)};var pointer=_this.pointer=new main_PointerDragging(containerEl);return pointer.emitter.on("pointerdown",_this.handlePointerDown),pointer.emitter.on("pointermove",_this.handlePointerMove),pointer.emitter.on("pointerup",_this.handlePointerUp),_this}return __extends(InferredElementDragging,_super),InferredElementDragging.prototype.destroy=function(){this.pointer.destroy()},InferredElementDragging.prototype.setIgnoreMove=function(bool){this.shouldIgnoreMove=bool},InferredElementDragging.prototype.setMirrorIsVisible=function(bool){if(bool)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var mirrorEl=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;mirrorEl&&(this.currentMirrorEl=mirrorEl,mirrorEl.style.visibility="hidden")}},InferredElementDragging}(main.v),ThirdPartyDraggable=function(){function ThirdPartyDraggable(containerOrSettings,settings){var containerEl=document;containerOrSettings===document||containerOrSettings instanceof Element?(containerEl=containerOrSettings,settings=settings||{}):settings=containerOrSettings||{};var dragging=this.dragging=new main_InferredElementDragging(containerEl);"string"==typeof settings.itemSelector?dragging.pointer.selector=settings.itemSelector:containerEl===document&&(dragging.pointer.selector="[data-event]"),"string"==typeof settings.mirrorSelector&&(dragging.mirrorSelector=settings.mirrorSelector),new main_ExternalElementDragging(dragging,settings.eventData)}return ThirdPartyDraggable.prototype.destroy=function(){this.dragging.destroy()},ThirdPartyDraggable}(),main_main=Object(main.Tb)({componentInteractions:[main_DateClicking,main_DateSelecting,main_EventDragging,main_EventResizing],calendarInteractions:[main_UnselectAuto],elementDraggingImpl:main_FeaturefulElementDragging,optionRefiners:OPTION_REFINERS,listenerRefiners:LISTENER_REFINERS});__webpack_exports__.default=main_main}}]);
//# sourceMappingURL=17.6dec735bef5bfe56b8c4.bundle.js.map